<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mr Wash Car Wash | Shine In Minutes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  <!-- Your external stylesheet -->
  <link rel="stylesheet" href="assets/css/style-mobile-plus.css">
  <!-- Leaflet CSS (for the map) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
</head>
<body>
<header>
  <div class="container nav">
    <div class="logo-wrap">
      <!-- ⬇️ Update this path if your logo is elsewhere -->
      <img class="logo" src="assets/Asset-5@3x.png" alt="Mr Wash Car Wash logo">
      <!-- e.g., use assets/img/mrwash-header-logo.png if that's where you uploaded -->
      <span class="brand">Mr Wash</span>
    </div>
    <nav>
      <ul id="site-nav">
        <li><a href="#">Home</a></li>
        <li><a href="#unlimited">Unlimited Club</a></li>
        <li><a href="#services">Services</a></li>
        <li><a href="#locations">Locations</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="#deals">Deals</a></li>
      </ul>
    </nav>
    <div class="cta">
      <a class="primary" href="#unlimited">Join Unlimited</a>
    </div>
  </div>
</header>

<section class="hero">
  <div class="hero-bg"></div>
  <div class="container hero-content">
    <h1>For the love of the road.<br>For the love of your shine.</h1>
    <p>Fast, eco-friendly car washes with free vacuums at 11 locations.<br>Drive in dull, drive out dazzling.</p>
    <div class="hero-buttons">
      <a href="#unlimited" class="btn btn-primary">Join Unlimited</a>
      <a href="#locations" class="btn btn-secondary">Find a Location</a>
    </div>
  </div>
</section>

<section class="block story" id="about">
  <div class="container">
    <h2>For busy families. For adventurers. For car lovers.</h2>
    <p class="lead">Every trip deserves a fresh start. Whether you're commuting or conquering a cross-country road trip, nothing powers up a journey like a spotless, shining car. For 60+ years, our family’s passion and planet-friendly soaps have kept your ride looking brand new. This is car care—made effortless and exceptional.</p>
  </div>
</section>

<!-- Unlimited Packages (fixed section structure) -->
<section class="block" id="unlimited">
  <div class="container">
    <h2>Our Wash Packages</h2>
    <p class="lead">Pick your shine. Wash as often as you like.</p>
    <div class="block-cards">
      <div class="card">
        <h3>Lite</h3>
        <div class="price">$19/mo</div>
        <ul>
          <li>Exterior wash</li>
          <li>Spot-free rinse</li>
          <li>Free vacuums</li>
        </ul>
        <a href="#" class="btn btn-secondary">Join Lite</a>
      </div>
      <div class="card popular">
        <h3>Plus</h3>
        <div class="price">$29/mo</div>
        <ul>
          <li>Triple foam</li>
          <li>Wheel clean</li>
          <li>Touchless dry</li>
          <li>Free vacuums</li>
        </ul>
        <a href="#" class="btn btn-primary">Join Plus</a>
      </div>
      <div class="card">
        <h3>Pro Ceramic</h3>
        <div class="price">$39/mo</div>
        <ul>
          <li>Ceramic sealant</li>
          <li>Tire shine</li>
          <li>Undercarriage rinse</li>
          <li>Free vacuums</li>
        </ul>
        <a href="#" class="btn btn-secondary">Join Pro</a>
      </div>
    </div>
  </div>
</section>

<!-- Savings Calculator -->
<section class="block" id="calculator">
  <div class="container">
    <h2>Unlimited Savings Calculator</h2>
    <p class="lead">See which plan pays for itself based on how often you wash.</p>

    <div class="block-cards" style="align-items:flex-start;">
      <div class="card" style="max-width:420px;flex:1;">
        <h3>Your habits</h3>
        <label style="display:block;margin:10px 0 6px;font-weight:600;">Washes per month</label>
        <input id="calc-washes" type="number" min="1" value="4" style="width:100%;padding:12px 14px;border:1px solid #C8C8C8;border-radius:8px;font-size:16px;">

        <label style="display:block;margin:16px 0 6px;font-weight:600;">Single wash price ($)</label>
        <input id="calc-price" type="number" min="1" value="15" step="1" style="width:100%;padding:12px 14px;border:1px solid #C8C8C8;border-radius:8px;font-size:16px;">

        <button id="calc-btn" class="btn btn-primary" style="margin-top:16px;">Calculate</button>
      </div>

      <div class="card" style="max-width:520px;flex:1;">
        <h3>Best value for you</h3>
        <div id="calc-result" style="font-size:18px;line-height:1.6;">
          Enter your washes and price to see savings.
        </div>
        <div style="margin-top:16px;">
          <a id="calc-cta" href="#unlimited" class="btn btn-secondary">Join Unlimited</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Locator -->
<section class="block locator" id="locations">
  <div class="container">
    <h2>Find a Location</h2>
    <p class="lead">Search by city or zip—we’ll show the closest Mr Wash near you.</p>

    <form id="locator-form" style="display:flex;gap:16px;max-width:500px;margin-bottom:32px;">
      <input id="location-search" type="text" placeholder="Enter city or ZIP" style="flex:1;padding:11px 16px;border:1px solid #C8C8C8;border-radius:8px;font-size:17px;">
      <button type="submit" class="btn btn-primary" style="padding:11px 32px;">Search</button>
      <button type="button" id="use-my-location" class="btn btn-secondary use-my-location">Use My Location</button>
    </form>

    <div id="map"></div>

    <div class="location-list" id="location-list" style="margin-top:18px;">
      <div class="locator-box">Tysons • Arlington • Alexandria • Kensington • Silver Spring • More</div>
    </div>
  </div>
</section>

<section class="block features">
  <div class="container">
    <div class="features-grid">
      <div>
        <div class="features-icon">🌿</div>
        <div class="features-title">Eco-Friendly Soaps</div>
      </div>
      <div>
        <div class="features-icon">🧹</div>
        <div class="features-title">Free Vacuums</div>
      </div>
      <div>
        <div class="features-icon">⚡</div>
        <div class="features-title">Fast In & Out</div>
      </div>
      <div>
        <div class="features-icon">🌀</div>
        <div class="features-title">Touchless Dry</div>
      </div>
    </div>
  </div>
</section>

<section class="block reviews" id="reviews">
  <div class="container">
    <h2>What Customers Say</h2>
    <div class="reviews-grid">
      <div class="review-card">
        <div class="review-stars">★★★★★</div>
        <p>So fast and spotless. Free vacuums are a bonus!</p>
        <div class="review-author">— Jordan P.</div>
      </div>
      <div class="review-card">
        <div class="review-stars">★★★★★</div>
        <p>In and out in minutes. Staff is friendly.</p>
        <div class="review-author">— Alicia R.</div>
      </div>
      <div class="review-card">
        <div class="review-stars">★★★★☆</div>
        <p>Great value with the Unlimited plan.</p>
        <div class="review-author">— Mike S.</div>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="container footer-block">
    <div class="footer-brand">
      <img src="https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/59884018/f4adf62c-bbc6-4c8b-a1b4-74dd5c77eaa4/MrWashSig1A.jpg" alt="Mr Wash Car Wash logo">
      <span>Mr Wash Car Wash</span>
    </div>
    <div class="footer-links">
      <a href="#">Support</a>
      <a href="#">FAQ</a>
      <a href="#">Privacy</a>
      <a href="#">Terms</a>
      <div class="footer-hours">Mon–Sat 8am–8pm • Sun 9am–6pm</div>
    </div>
    <div class="footer-copy">&copy; 2025 Mr Wash Car Wash</div>
  </div>
</footer>

<!-- Calculator JS -->
<script>
  (function() {
    const LITE = 19, PLUS = 29, PRO = 39; // monthly prices

    function recommendPlan(costPerWash, washes) {
      const monthlySpend = costPerWash * washes;
      const options = [
        { name: 'Lite', price: LITE },
        { name: 'Plus', price: PLUS },
        { name: 'Pro Ceramic', price: PRO }
      ];
      options.forEach(o => { o.savings = monthlySpend - o.price; });
      const best = options.reduce((a,b) => (b.savings > a.savings ? b : a));
      return { monthlySpend, best, options };
    }

    function format(n){ return '$' + n.toFixed(2); }

    function render() {
      const washes = Math.max(1, parseFloat(document.getElementById('calc-washes').value || '0'));
      const price  = Math.max(1, parseFloat(document.getElementById('calc-price').value  || '0'));
      const { monthlySpend, best, options } = recommendPlan(price, washes);

      const rows = options.map(o => {
        const badge = (o.name === best.name) ? ' <span style="background:#FE5000;color:#fff;padding:3px 8px;border-radius:999px;font-size:12px;margin-left:6px;">Recommended</span>' : '';
        const color = (o.name === best.name) ? 'style="font-weight:700;color:#0E2A47;"' : '';
        return `<li ${color}>${o.name}: ${format(o.price)}/mo — Savings: ${format(o.savings)}${badge}</li>`;
      }).join('');

      document.getElementById('calc-result').innerHTML =
        `<p>Pay-per-wash spend: <strong>${format(monthlySpend)}</strong> / month</p>
         <ul style="margin:8px 0 0 18px;">${rows}</ul>`;

      const cta = document.getElementById('calc-cta');
      cta.textContent = 'Join ' + best.name;
      cta.href = '#unlimited';
    }

    document.getElementById('calc-btn').addEventListener('click', render);
  })();
</script>

<!-- Leaflet JS (must load before the map code below) -->
<script
  src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
  crossorigin=""
></script>

<!-- Map JS -->
<script>
  // === Your real locations ===
  const LOCATIONS = [
    { name: "Tysons",                      address: "8218 Leesburg Pike, Tysons, VA",            lat: 38.920, lng: -77.223 },
    { name: "Arlington",                   address: "101 N Glebe Rd, Arlington, VA",             lat: 38.878, lng: -77.101 },
    { name: "Alexandria (S Van Dorn St)",  address: "420 S Van Dorn St, Alexandria, VA 22304",   lat: 38.804, lng: -77.046 },
    { name: "Kensington",                  address: "3817 Dupont Ave, Kensington, MD 20895",     lat: 39.026, lng: -77.076 },
    { name: "Silver Spring",               address: "7996 Georgia Ave, Silver Spring, MD 20910", lat: 38.990, lng: -77.026 },
    { name: "Alexandria (Mt Vernon Ave)",  address: "3407 Mt Vernon Ave, Alexandria, VA 22305",  lat: 38.836, lng: -77.060 }
  ];

  // Create map
  const map = L.map('map', { scrollWheelZoom: true }).setView([38.9072, -77.0369], 10); // DC area
  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; OpenStreetMap'
  }).addTo(map);

  // Markers layer
  const markers = L.layerGroup().addTo(map);

  function addMarkers(list = LOCATIONS) {
    markers.clearLayers();
    list.forEach(loc => {
      const m = L.marker([loc.lat, loc.lng]).addTo(markers);
      const gmaps = `https://www.google.com/maps/dir/?api=1&destination=${loc.lat},${loc.lng}`;
      m.bindPopup(`
        <strong>${loc.name}</strong><br/>
        <small>${loc.address}</small><br/>
        <a href="${gmaps}" target="_blank" rel="noopener">Directions →</a>
      `);
    });
  }
  addMarkers();

  // Fit to all
  (function fitAll() {
    const b = L.latLngBounds(LOCATIONS.map(l => [l.lat, l.lng]));
    if (b.isValid()) map.fitBounds(b.pad(0.2));
  })();

  // Distance helper (meters)
  function haversine(lat1, lon1, lat2, lon2) {
    const toRad = d => d * Math.PI / 180;
    const R = 6371e3;
    const φ1 = toRad(lat1), φ2 = toRad(lat2);
    const Δφ = toRad(lat2 - lat1), Δλ = toRad(lon2 - lon1);
    const a = Math.sin(Δφ/2)**2 + Math.cos(φ1)*Math.cos(φ2)*Math.sin(Δλ/2)**2;
    return 2 * R * Math.asin(Math.sqrt(a));
  }
  function nearestTo(lat, lng) {
    let best = null, bestD = Infinity;
    LOCATIONS.forEach(l => {
      const d = haversine(lat, lng, l.lat, l.lng);
      if (d < bestD) { bestD = d; best = { ...l, distance: d }; }
    });
    return best;
  }

  // Use My Location
  const useMyLocationBtn = document.getElementById('use-my-location');
  useMyLocationBtn.addEventListener('click', () => {
    if (!navigator.geolocation) {
      alert('Geolocation not supported on this browser.');
      return;
    }
    navigator.geolocation.getCurrentPosition(
      (pos) => {
        const { latitude, longitude } = pos.coords;
        L.circleMarker([latitude, longitude], { radius: 8, color: '#FE5000' })
          .addTo(map).bindPopup('You are here').openPopup();
        map.setView([latitude, longitude], 12);

        const n = nearestTo(latitude, longitude);
        if (n) {
          const gmaps = `https://www.google.com/maps/dir/?api=1&destination=${n.lat},${n.lng}`;
          L.polyline([[latitude, longitude], [n.lat, n.lng]], { dashArray: '4,6' }).addTo(map);
          L.popup()
            .setLatLng([n.lat, n.lng])
            .setContent(`<strong>Nearest: ${n.name}</strong><br/><small>${(n.distance/1609.34).toFixed(1)} miles away</small><br/><a href="${gmaps}" target="_blank" rel="noopener">Directions →</a>`)
            .openOn(map);
        }
      },
      () => alert('Could not get your location. You can still use the search box above.'),
      { enableHighAccuracy: true, timeout: 8000 }
    );
  });

  // Simple text filter (by name/address)
  const form = document.getElementById('locator-form');
  const input = document.getElementById('location-search');
  const listEl = document.getElementById('location-list');

  form.addEventListener('submit', (e) => {
    e.preventDefault();
    const q = (input.value || '').trim().toLowerCase();
    if (!q) { addMarkers(); renderList(LOCATIONS); return; }
    const filtered = LOCATIONS.filter(l =>
      l.name.toLowerCase().includes(q) || l.address.toLowerCase().includes(q)
    );
    if (filtered.length) {
      addMarkers(filtered);
      const b = L.latLngBounds(filtered.map(l => [l.lat, l.lng]));
      map.fitBounds(b.pad(0.3));
      renderList(filtered);
    } else {
      alert('No matching locations (try Tysons, Arlington, Alexandria...)');
    }
  });

  function renderList(list = LOCATIONS) {
    listEl.innerHTML = list.map(l => {
      const gmaps = `https://www.google.com/maps/dir/?api=1&destination=${l.lat},${l.lng}`;
      return `<div class="locator-box">
        <strong>${l.name}</strong> • <span>${l.address}</span>
        &nbsp; <a href="${gmaps}" target="_blank" rel="noopener">Directions</a>
      </div>`;
    }).join('');
  }
  renderList();
</script>
</body>
</html>
